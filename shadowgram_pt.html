<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Shadowgram â€” Descubra seu tipo</title>
  <meta name="description" content="DiagnÃ³stico de personalidade baseado em Jung e Big Five. 28 perguntas. Resultado instantÃ¢neo. Desenvolvido por especialista coreano com 20 anos de experiÃªncia."/>
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@200;400;600;700;900&family=Cormorant+Garamond:ital,wght@0,400;0,600;1,400&display=swap" rel="stylesheet"/>

  <style>
    *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }

    :root {
      --dark:  #0F1119;
      --dark2: #1A1F2E;
      --card:  #161B28;
      --gold:  #C5A572;
      --goldL: #E8D4A8;
      --white: #FFFFFF;
      --silver:#9BAAB8;
      --border:rgba(197,165,114,0.18);
      --red:   #E05555;
    }

    /* â”€â”€ ëª¨ë°”ì¼ ìš°ì„  ë² ì´ìŠ¤ â”€â”€ */
    html { scroll-behavior: smooth; font-size: 16px; }
    body {
      background: var(--dark);
      color: var(--white);
      font-family: 'Montserrat', sans-serif;
      min-height: 100vh;
      -webkit-text-size-adjust: 100%;
    }

    /* â”€â”€ NAV â”€â”€ */
    nav {
      display: flex; align-items: center; justify-content: space-between;
      padding: 18px 20px;
      border-bottom: 1px solid var(--border);
    }
    .nav-logo { text-decoration: none; font-size: 14px; letter-spacing: 3px; display: flex; align-items: center; gap: 10px; }
    .nav-logo img { width: 34px; height: 34px; border-radius: 50%; }
    .nav-logo .s1 { color: var(--gold); font-weight: 300; }
    .nav-logo .s2 { color: var(--white); font-weight: 900; }
    .nav-back {
      font-size: 13px; color: var(--silver);
      text-decoration: none; transition: color .2s;
    }
    .nav-back:active { color: var(--gold); }

    /* â”€â”€ HERO â”€â”€ */
    .hero {
      text-align: center;
      padding: 48px 20px 36px;
      border-bottom: 1px solid var(--border);
    }
    .hero-label {
      font-size: 12px; letter-spacing: 3px; color: var(--gold);
      font-weight: 700; margin-bottom: 20px;
    }
    .hero-title {
      font-family: 'Cormorant Garamond', serif;
      font-size: clamp(32px, 7vw, 52px);
      font-weight: 600; line-height: 1.35;
      margin-bottom: 18px;
    }
    .hero-sub {
      color: var(--silver); font-size: 16px;
      max-width: 520px; margin: 0 auto;
      line-height: 2.0;
    }

    /* â”€â”€ CREDIBILITY BADGE â”€â”€ */
    .cred-bar {
      max-width: 680px; margin: 0 auto;
      padding: 28px 20px;
      border-bottom: 1px solid var(--border);
    }
    .cred-inner {
      background: var(--card);
      border: 1px solid var(--border);
      border-radius: 4px;
      padding: 22px 20px;
      display: flex;
      flex-direction: column;
      gap: 16px;
      align-items: flex-start;
    }
    .cred-icon { font-size: 32px; flex-shrink: 0; }
    .cred-title {
      font-size: 12px; letter-spacing: 2px; color: var(--gold);
      font-weight: 700; margin-bottom: 10px;
    }
    .cred-desc {
      font-family: 'Cormorant Garamond', serif;
      font-size: 16px; line-height: 1.9; color: var(--goldL);
    }
    .cred-sources {
      margin-top: 14px;
      display: flex; gap: 8px; flex-wrap: wrap;
    }
    .cred-tag {
      font-size: 12px; color: var(--silver);
      border: 1px solid var(--border); border-radius: 2px;
      padding: 6px 12px;
    }

    /* â”€â”€ META â”€â”€ */
    .hero-meta {
      max-width: 680px; margin: 0 auto;
      padding: 24px 20px 0;
      display: flex; justify-content: center; gap: 16px;
      flex-wrap: wrap;
    }
    .hero-meta span { font-size: 13px; color: var(--silver); }
    .hero-meta strong { color: var(--gold); }

    /* â”€â”€ BACK BUTTON â”€â”€ */
    .back-btn-wrap {
      max-width: 680px; margin: 0 auto;
      padding: 16px 20px 0;
    }
    .btn-prev {
      background: none; border: none;
      color: var(--silver); font-size: 14px;
      font-family: 'Montserrat', sans-serif;
      cursor: pointer; padding: 8px 0;
      display: flex; align-items: center; gap: 6px;
      transition: color .2s;
    }
    .btn-prev:active { color: var(--gold); }
    .btn-prev.hidden { visibility: hidden; pointer-events: none; }

    /* â”€â”€ PROGRESS â”€â”€ */
    .progress-wrap {
      max-width: 680px; margin: 0 auto;
      padding: 12px 20px 0;
    }
    .progress-bar-bg {
      height: 3px; background: var(--border);
      border-radius: 2px; overflow: hidden;
    }
    .progress-bar-fill {
      height: 100%; background: var(--gold);
      border-radius: 2px; transition: width .4s ease; width: 0%;
    }
    .progress-text {
      display: flex; justify-content: space-between;
      margin-top: 12px;
      font-size: 13px; color: var(--silver);
    }
    .dimension-label {
      font-size: 12px; letter-spacing: 1px; color: var(--gold);
      margin-top: 8px; font-weight: 600;
    }

    /* â”€â”€ QUIZ â”€â”€ */
    #quiz-section {
      max-width: 680px; margin: 0 auto;
      padding: 32px 20px 80px;
    }
    .question-block { display: none; }
    .question-block.active { display: block; animation: fadeIn .3s ease; }

    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(10px); }
      to   { opacity: 1; transform: translateY(0); }
    }

    .q-num {
      font-size: 12px; letter-spacing: 2px; color: var(--gold);
      font-weight: 700; margin-bottom: 16px;
    }
    .q-text {
      font-family: 'Cormorant Garamond', serif;
      font-size: clamp(20px, 5vw, 26px);
      font-weight: 600; line-height: 1.6;
      margin-bottom: 28px;
    }
    .ab-options { display: flex; flex-direction: column; gap: 14px; }
    .ab-btn {
      background: var(--card);
      border: 1px solid var(--border);
      color: var(--white);
      padding: 20px 20px;
      text-align: left; cursor: pointer;
      border-radius: 4px;
      font-family: 'Montserrat', sans-serif;
      font-size: 16px; line-height: 1.7;
      transition: border-color .2s, background .2s;
      display: flex; align-items: flex-start; gap: 16px; width: 100%;
    }
    .ab-btn:active {
      border-color: var(--gold);
      background: rgba(197,165,114,0.13);
    }
    .ab-btn.selected {
      border-color: var(--gold);
      background: rgba(197,165,114,0.13);
    }
    .ab-label {
      flex-shrink: 0; width: 36px; height: 36px;
      border: 1px solid var(--border); border-radius: 50%;
      display: flex; align-items: center; justify-content: center;
      font-size: 15px; font-weight: 800; color: var(--gold);
      margin-top: 2px;
    }
    .ab-btn.selected .ab-label {
      background: var(--gold); color: var(--dark); border-color: var(--gold);
    }
    .ab-text { font-size: 16px; }

    /* â”€â”€ RESULT â”€â”€ */
    #result-section {
      display: none;
      max-width: 700px; margin: 0 auto;
      padding: 40px 20px 80px;
      animation: fadeIn .5s ease;
    }
    .result-label {
      text-align: center;
      font-size: 12px; letter-spacing: 3px; color: var(--gold);
      font-weight: 600; margin-bottom: 16px;
    }
    .result-type-name {
      text-align: center;
      font-size: clamp(56px, 16vw, 96px);
      font-weight: 900; letter-spacing: 4px;
      line-height: 1; margin-bottom: 10px;
    }
    .result-function {
      text-align: center;
      font-size: 14px; letter-spacing: 1px; color: var(--silver);
      margin-bottom: 8px; line-height: 1.6;
    }
    .result-code {
      text-align: center;
      font-size: 12px; letter-spacing: 2px; color: rgba(197,165,114,0.4);
      margin-bottom: 32px;
    }
    .result-card {
      background: var(--card); border: 1px solid var(--border);
      border-radius: 4px; overflow: hidden; margin-bottom: 16px;
    }
    .result-card-header {
      padding: 16px 20px;
      font-size: 12px; letter-spacing: 2px; font-weight: 700;
    }
    .result-card-body {
      padding: 18px 20px 22px;
      font-family: 'Cormorant Garamond', serif;
      font-size: 17px; line-height: 1.95; color: var(--goldL);
    }
    .result-shadow-body {
      padding: 18px 20px 22px;
      font-family: 'Cormorant Garamond', serif;
      font-size: 17px; line-height: 1.95; color: var(--silver);
    }

    /* â”€â”€ PAIN POINT CARD â”€â”€ */
    .pain-card {
      background: rgba(224,85,85,0.07);
      border: 1px solid rgba(224,85,85,0.3);
      border-radius: 4px; padding: 22px 20px;
      margin-bottom: 16px;
    }
    .pain-card-header {
      font-size: 12px; letter-spacing: 2px; font-weight: 700;
      color: var(--red); margin-bottom: 14px;
    }
    .pain-card-body {
      font-family: 'Cormorant Garamond', serif;
      font-size: 17px; line-height: 1.95; color: #f0c0c0;
    }

    /* â”€â”€ Score bars (ì–‘ë°©í–¥ ì¤‘ì‹¬ ê¸°ì¤€) â”€â”€ */
    .score-bars {
      background: var(--card); border: 1px solid var(--border);
      border-radius: 4px; padding: 22px 20px; margin-bottom: 16px;
    }
    .score-bar-label {
      font-size: 12px; letter-spacing: 2px; color: var(--gold);
      font-weight: 700; margin-bottom: 18px;
    }
    .bar-row { display: flex; align-items: center; gap: 12px; margin-bottom: 20px; }
    .bar-dim { font-size: 13px; color: var(--silver); width: 24px; flex-shrink: 0; }
    .bar-track {
      flex: 1; height: 8px; background: var(--border); border-radius: 4px;
      position: relative;
    }
    .bar-track::after {
      content: ''; position: absolute;
      left: 50%; top: -4px; width: 1px; height: 16px;
      background: rgba(255,255,255,0.3);
    }
    .bar-fill-a {
      position: absolute; top: 0; height: 100%; border-radius: 4px 0 0 4px;
      right: 50%;
    }
    .bar-fill-b {
      position: absolute; top: 0; height: 100%; border-radius: 0 4px 4px 0;
      left: 50%;
    }
    .bar-ends {
      display: flex; justify-content: space-between;
      font-size: 13px;
      margin-top: 8px;
    }
    .bar-label-a, .bar-label-b { transition: all 0.3s; }
    .bar-label-active { color: #fff; font-weight: 700; }
    .bar-label-inactive { color: var(--silver); font-weight: 400; opacity: 0.5; }

    /* â”€â”€ PREVIEW BLUR â”€â”€ */
    .preview-blur-wrap {
      background: var(--card); border: 1px solid var(--border);
      border-radius: 4px; overflow: hidden;
      margin-bottom: 16px; position: relative;
    }
    .preview-blur-header {
      padding: 16px 20px;
      font-size: 12px; letter-spacing: 2px; font-weight: 700;
      color: var(--silver);
    }
    .preview-blur-body {
      padding: 18px 20px 28px;
      filter: blur(5px); user-select: none;
      font-family: 'Cormorant Garamond', serif;
      font-size: 16px; line-height: 1.9; color: var(--goldL);
      pointer-events: none;
      white-space: pre-line;
    }
    .preview-blur-overlay {
      position: absolute; bottom: 0; left: 0; right: 0;
      background: linear-gradient(transparent, var(--card) 70%);
      height: 120px;
      display: flex; align-items: flex-end; justify-content: center;
      padding-bottom: 20px;
    }
    .preview-blur-label {
      font-size: 13px; color: var(--silver);
    }

    /* â”€â”€ CTA box â”€â”€ */
    .cta-box {
      margin-top: 40px;
      background: var(--dark2); border: 1px solid var(--border);
      border-radius: 4px; padding: 32px 20px; text-align: center;
    }
    .cta-box-label {
      font-size: 11px; letter-spacing: 2px; color: var(--gold);
      font-weight: 700; margin-bottom: 14px;
    }
    .cta-box-title {
      font-family: 'Cormorant Garamond', serif;
      font-size: clamp(22px, 5.5vw, 30px);
      font-weight: 600; line-height: 1.45; margin-bottom: 14px;
    }
    .cta-box-sub {
      color: var(--silver); font-size: 16px;
      line-height: 1.9; margin-bottom: 24px;
      max-width: 440px; margin-left: auto; margin-right: auto;
    }

    /* Price */
    .price-row {
      display: flex; justify-content: center; align-items: baseline;
      gap: 8px; margin-bottom: 8px;
    }
    .price-main { font-size: 52px; font-weight: 900; color: var(--gold); }
    .price-currency { font-size: 22px; font-weight: 600; color: var(--silver); }
    .price-note {
      font-size: 13px; color: var(--silver);
      display: block; margin-bottom: 28px; line-height: 1.7;
    }

    .btn-buy {
      display: inline-block; padding: 20px 32px;
      background: var(--gold); color: var(--dark);
      font-family: 'Montserrat', sans-serif;
      font-size: 16px; font-weight: 800; letter-spacing: 1px;
      text-decoration: none;
      border-radius: 2px;
      transition: background .2s;
      width: 100%; max-width: 420px;
    }
    .btn-buy:active { background: var(--goldL); }

    .btn-retry {
      display: inline-block; margin-top: 24px;
      font-size: 14px; color: var(--silver);
      cursor: pointer; text-decoration: underline;
      background: none; border: none;
      font-family: 'Montserrat', sans-serif;
      transition: color .2s; padding: 8px 0;
    }
    .btn-retry:active { color: var(--gold); }
    .guarantee {
      margin-top: 18px;
      font-size: 13px; color: rgba(155,170,184,0.5);
      line-height: 1.7;
    }

    /* â”€â”€ FOOTER â”€â”€ */
    footer {
      border-top: 1px solid var(--border);
      padding: 36px 20px; text-align: center;
      font-size: 13px; color: rgba(155,170,184,0.4);
      line-height: 2.0;
    }

    /* â”€â”€ íƒœë¸”ë¦¿/ë°ìŠ¤í¬íƒ‘ â”€â”€ */
    @media (min-width: 600px) {
      nav { padding: 20px 40px; }
      .nav-logo { font-size: 13px; }
      .cred-inner { flex-direction: row; gap: 28px; }
      .hero { padding: 64px 24px 48px; }
      .result-card-body, .result-shadow-body, .pain-card-body { font-size: 19px; }
      .ab-btn { font-size: 15px; }
      .ab-text { font-size: 15px; }
    }
  </style>
</head>
<body>

<!-- NAV -->
<nav>
  <a class="nav-logo" href="https://shadowgram.org">
    <img src="https://shadowgram.org/logo.png" alt="Shadowgram Logo">
    <span><span class="s1">SHADOW</span><span class="s2">GRAM</span></span>
  </a>
</nav>

<!-- HERO -->
<div class="hero">
  <p class="hero-label">SHADOWGRAM Â· DIAGNÃ“STICO GRATUITO</p>
  <h1 class="hero-title">Por que vocÃª continua repetindo<br>os mesmos erros?</h1>
  <p class="hero-sub">
    A resposta estÃ¡ na sua sombra psicolÃ³gica.<br>
    28 perguntas. Resultado imediato. Sem cadastro.
  </p>
</div>

<!-- CREDIBILITY -->
<div class="cred-bar">
  <div class="cred-inner">
    <div class="cred-icon">ğŸ”¬</div>
    <div>
      <p class="cred-title">BASE CIENTÃFICA Â· REINTERPRETAÃ‡ÃƒO APLICADA</p>
      <p class="cred-desc">
        Este diagnÃ³stico integra a teoria das funÃ§Ãµes psicolÃ³gicas de
        <strong>Carl Gustav Jung</strong> (Tipos PsicolÃ³gicos, 1921)
        com os estudos modernos do <strong>Big Five (IPIP)</strong>,
        reinterpretados por um especialista coreano com
        <strong>20 anos de experiÃªncia</strong> em desenvolvimento humano e psicologia aplicada.
        NÃ£o Ã© um teste de personalidade comum â€” Ã© um mapa da sua sombra.
      </p>
      <div class="cred-sources">
        <span class="cred-tag">C.G. Jung Â· 1921</span>
        <span class="cred-tag">IPIP Big Five Â· DomÃ­nio PÃºblico</span>
        <span class="cred-tag">20 anos de prÃ¡tica</span>
        <span class="cred-tag">Framework Shadowgram</span>
      </div>
    </div>
  </div>
</div>

<!-- META -->
<div class="hero-meta">
  <span>â± <strong>5â€“7 min</strong></span>
  <span>ğŸ“‹ <strong>28 perguntas</strong></span>
  <span>ğŸ¯ <strong>Resultado imediato</strong></span>
  <span>ğŸ”’ <strong>Sem cadastro</strong></span>
</div>

<!-- BACK BUTTON -->
<div class="back-btn-wrap">
  <button class="btn-prev hidden" id="btn-prev" onclick="goPrev()">â† Pergunta anterior</button>
</div>

<!-- PROGRESS -->
<div class="progress-wrap">
  <div class="progress-bar-bg">
    <div class="progress-bar-fill" id="progress-fill"></div>
  </div>
  <div class="progress-text">
    <span id="progress-label">Pergunta 1 de 28</span>
    <span id="progress-pct">0%</span>
  </div>
  <div class="dimension-label" id="dim-label">DIMENSÃƒO 1 Â· ENERGIA</div>
</div>

<!-- QUIZ -->
<div id="quiz-section"></div>

<!-- RESULT -->
<div id="result-section">
  <p class="result-label">SEU TIPO SHADOWGRAM</p>
  <div class="result-type-name" id="res-type"></div>
  <p class="result-function" id="res-function"></p>
  <p class="result-code" id="res-code"></p>

  <!-- Score bars -->
  <div class="score-bars">
    <p class="score-bar-label">PERFIL DAS 4 DIMENSÃ•ES</p>
    <div id="score-bar-rows"></div>
  </div>

  <!-- Luz -->
  <div class="result-card">
    <div class="result-card-header" id="res-light-header">âœ¦ SUA LUZ â€” FunÃ§Ã£o Dominante</div>
    <div class="result-card-body" id="res-light"></div>
  </div>

  <!-- Sombra -->
  <div class="result-card">
    <div class="result-card-header" style="color:var(--silver);">â—† SUA SOMBRA â€” FunÃ§Ã£o Inferior</div>
    <div class="result-shadow-body" id="res-shadow"></div>
  </div>

  <!-- K-Drama Character Match Card -->
  <div id="kdrama-match-card" style="
    background: linear-gradient(135deg, rgba(13,27,42,0.95) 0%, rgba(26,44,68,0.95) 100%);
    border: 1px solid rgba(197,165,114,0.4);
    border-radius: 16px;
    padding: 20px 20px 16px;
    margin: 18px 0;
    text-align: center;
  ">
    <p style="font-size:10px;letter-spacing:0.18em;color:rgba(155,170,184,0.6);
      text-transform:uppercase;font-weight:700;margin:0 0 10px;font-family:'Montserrat',sans-serif;">
      âœ¦ PERSONAGEM K-DRAMA COM SEU PERFIL
    </p>
    <div id="kdrama-match-name" style="
      font-size:22px;font-weight:900;font-family:'Montserrat',sans-serif;
      color:#C5A572;margin-bottom:4px;"></div>
    <div id="kdrama-match-drama" style="
      font-size:11px;color:rgba(155,170,184,0.55);letter-spacing:0.06em;
      margin-bottom:14px;font-family:'Montserrat',sans-serif;"></div>

    <!-- ìœ ì‚¬ë„ ë°” -->
    <div style="background:rgba(255,255,255,0.07);border-radius:20px;height:10px;margin:0 auto 6px;max-width:280px;overflow:hidden;">
      <div id="kdrama-match-bar" style="
        height:100%;border-radius:20px;
        background:linear-gradient(90deg,#C5A572,#E8D5A3);
        transition:width 1.2s cubic-bezier(0.4,0,0.2,1);
        width:0%;"></div>
    </div>
    <div id="kdrama-match-pct" style="
      font-size:28px;font-weight:900;font-family:'Montserrat',sans-serif;
      color:#E8D5A3;margin-bottom:6px;"></div>
    <div id="kdrama-match-line" style="
      font-size:13px;color:rgba(197,165,114,0.75);
      font-style:italic;line-height:1.5;margin-bottom:14px;
      font-family:'Montserrat',sans-serif;"></div>

    <!-- WhatsApp ê³µìœ  ë²„íŠ¼ (ìºë¦­í„° íŠ¹í™”) -->
    <button id="btn-kdrama-share" onclick="shareKdramaMatch()" style="
      width:100%;padding:13px;border-radius:12px;border:none;cursor:pointer;
      background:#25d366;color:#fff;
      font-family:'Montserrat',sans-serif;font-size:13px;font-weight:800;
      letter-spacing:0.04em;">
      ğŸ’¬ Compartilhar no WhatsApp
    </button>
    <p style="font-size:11px;color:rgba(155,170,184,0.4);margin:8px 0 0;
      font-family:'Montserrat',sans-serif;">
      Seus amigos descobrem o prÃ³prio tipo ğŸ‘†
    </p>
  </div>

  <!-- Pain point â€” custo da sombra nÃ£o integrada -->
  <div class="pain-card">
    <p class="pain-card-header">âš  O CUSTO DE IGNORAR SUA SOMBRA</p>
    <div class="pain-card-body" id="res-pain"></div>
  </div>

  <!-- Preview desfocado do relatÃ³rio -->
  <div class="preview-blur-wrap">
    <div class="preview-blur-header">ğŸ“„ PRÃ‰VIA DO RELATÃ“RIO COMPLETO Â· NÃVEL 1</div>
    <div class="preview-blur-body" id="res-preview"></div>
    <div class="preview-blur-overlay">
      <span class="preview-blur-label">ğŸ”’ CONTEÃšDO COMPLETO NO RELATÃ“RIO</span>
    </div>
  </div>

  <!-- CTA -->
  <div class="cta-box">

    <p class="cta-box-label" id="res-cta-label">SHADOWGRAM SOLO Â· NÃVEL 1</p>
    <h2 class="cta-box-title" id="res-cta-title"></h2>
    <p class="cta-box-sub" id="res-cta-sub"></p>

    <!-- Price -->
    <div class="price-row">
      <span class="price-currency">R$</span>
      <span class="price-main">67</span>
    </div>
    <span class="price-note">pagamento Ãºnico Â· acesso imediato Â· PDF completo</span>

    <a class="btn-buy" id="res-buy-btn" href="#" target="_blank" rel="noopener">
      QUERO MEU RELATÃ“RIO COMPLETO â†’
    </a>
    <p style="font-size:12px;color:rgba(155,170,184,0.7);margin:10px 0 0;letter-spacing:0.03em;line-height:1.6;">
      ğŸ”’ Pagamento seguro via <strong style="color:rgba(197,165,114,0.85);">Hotmart</strong> Â· Acesso imediato ao PDF
    </p>

    <!-- SNS ê³µìœ  ë²„íŠ¼ -->
    <div style="margin-top:16px;">
      <p style="font-size:12px;color:#aaa;text-align:center;margin:0 0 12px;letter-spacing:0.08em;text-transform:uppercase;font-weight:700;">
        âœ¦ Compartilhe â€” seus amigos descobrem o tipo deles
      </p>
      <div style="display:grid;grid-template-columns:1fr 1fr;gap:8px;">
        <!-- WhatsApp -->
        <a id="btn-whatsapp-share" href="#" target="_blank" rel="noopener" style="
          display:flex;align-items:center;justify-content:center;gap:6px;
          background:#25d366;color:#fff;
          font-family:'Montserrat',sans-serif;font-size:13px;font-weight:800;
          padding:12px 8px;border-radius:12px;text-decoration:none;
        ">ğŸ’¬ WhatsApp</a>
        <!-- Instagram -->
        <a id="btn-instagram-share" href="#" target="_blank" rel="noopener" style="
          display:flex;align-items:center;justify-content:center;gap:6px;
          background:linear-gradient(135deg,#f09433,#e6683c,#dc2743,#cc2366,#bc1888);
          color:#fff;font-family:'Montserrat',sans-serif;font-size:13px;font-weight:800;
          padding:12px 8px;border-radius:12px;text-decoration:none;
        ">ğŸ“¸ Instagram</a>
        <!-- Facebook -->
        <a id="btn-facebook-share" href="#" target="_blank" rel="noopener" style="
          display:flex;align-items:center;justify-content:center;gap:6px;
          background:#1877f2;color:#fff;
          font-family:'Montserrat',sans-serif;font-size:13px;font-weight:800;
          padding:12px 8px;border-radius:12px;text-decoration:none;
        ">ğŸ“˜ Facebook</a>
        <!-- X (Twitter) -->
        <a id="btn-twitter-share" href="#" target="_blank" rel="noopener" style="
          display:flex;align-items:center;justify-content:center;gap:6px;
          background:#000;color:#fff;
          font-family:'Montserrat',sans-serif;font-size:13px;font-weight:800;
          padding:12px 8px;border-radius:12px;text-decoration:none;
        ">âœ• X</a>
      </div>
      <!-- ë§í¬ ë³µì‚¬ -->
      <button id="btn-copy-link" onclick="copyQuizLink()" style="
        display:flex;align-items:center;justify-content:center;gap:8px;
        width:100%;margin-top:8px;
        background:transparent;border:1px solid rgba(197,165,114,0.4);
        color:var(--gold);font-family:'Montserrat',sans-serif;
        font-size:13px;font-weight:700;
        padding:12px;border-radius:12px;cursor:pointer;
      ">ğŸ”— Copiar link do teste</button>
    </div>

    <!-- ë‚´ ê²°ê³¼ ì €ì¥ ë²„íŠ¼ -->
    <button class="btn-save-link" id="btn-save-link" onclick="saveMyLink()" style="
      background: transparent;
      border: 1px solid rgba(197,165,114,0.4);
      color: var(--gold);
      font-size: 12px;
      letter-spacing: 1px;
      padding: 10px 20px;
      border-radius: 30px;
      cursor: pointer;
      font-family: 'Montserrat', sans-serif;
      margin-top: 4px;
      display: block;
      width: 100%;
    ">ğŸ”– Salvar meu resultado (acessar depois sem refazer)</button>

    <div id="saved-link-box" style="display:none; margin-top:12px; background:rgba(197,165,114,0.08); border:1px solid rgba(197,165,114,0.3); border-radius:10px; padding:14px;">
      <p style="font-size:11px; color:var(--silver); margin-bottom:8px; letter-spacing:1px;">ğŸ“ MEU LINK PESSOAL â€” salve nos favoritos ou copie para qualquer lugar</p>
      <div style="display:flex; gap:8px; align-items:center;">
        <input id="saved-link-input" type="text" readonly style="
          flex:1; background:rgba(255,255,255,0.05); border:1px solid var(--border);
          color:var(--white); padding:8px 12px; border-radius:6px; font-size:12px;
          font-family:monospace;
        "/>
        <button onclick="copyLink()" style="
          background:var(--gold); color:#000; border:none; padding:8px 14px;
          border-radius:6px; font-size:11px; font-weight:700; cursor:pointer;
          font-family:'Montserrat',sans-serif; white-space:nowrap;
        ">Copiar</button>
      </div>
      <p style="font-size:11px; color:var(--silver); margin-top:8px;">âœ… Cole no WhatsApp, favoritos ou notas â€” acesso imediato sempre</p>
    </div>

    <button class="btn-retry" onclick="restartQuiz()">Refazer o diagnÃ³stico</button>
    <p class="guarantee">ğŸ”’ Compra segura via Hotmart Â· Garantia de 7 dias sem perguntas</p>
  </div>
</div>

<!-- FOOTER -->
<footer>
  Â© 2025 Shadowgram Â· shadowgram.org<br>
  DiagnÃ³stico baseado em Jung (1921) e IPIP Big Five (domÃ­nio pÃºblico).<br>
  Shadowgram Ã© um framework independente de desenvolvimento humano.<br>
  NÃ£o Ã© afiliado Ã  The Myers &amp; Briggs Foundation.<br><br>
  Contato Â· <a href="mailto:joculsion@gmail.com" style="color:rgba(155,170,184,0.5);text-decoration:none;">joculsion@gmail.com</a>
</footer>

<script>
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// HOTMART â€” PRODUTO ÃšNICO (1 URL para todos os tipos)
// Substitua apenas esta URL apÃ³s aprovaÃ§Ã£o do produto na Hotmart
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
const HOTMART_BASE_URL = 'https://pay.hotmart.com/Q104596575B';

// â”€â”€ K-Drama Character Matching Data â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
// ë“œë¼ë§ˆ ì‹œì¦Œ êµì²´ ì‹œ ì´ ê°ì²´ë§Œ ì—…ë°ì´íŠ¸í•˜ë©´ ë¨
// í˜„ì¬ ì‹œì¦Œ: "Esse Amor Pode Ser Traduzido?" (2026) + clÃ¡ssicos Netflix Brasil
const KDRAMA_MATCHES = {
  HARMONY: {
    name: "Cha Mu-hee",
    drama: "Esse Amor Pode Ser Traduzido?",
    match: 89,
    emoji: "ğŸŒŠ",
    line: "Ela sente tudo â€” mas nÃ£o consegue explicar nada."
  },
  LOGIC: {
    name: "Ju Ho-jin",
    drama: "Esse Amor Pode Ser Traduzido?",
    match: 91,
    emoji: "ğŸ”¬",
    line: "Ele traduz 7 idiomas. Mas nÃ£o sabe dizer 'eu te amo'."
  },
  SOUL: {
    name: "Kang Tae-eul",
    drama: "EstÃ¡ Tudo Bem NÃ£o Estar Bem",
    match: 87,
    emoji: "ğŸŒ™",
    line: "Ele tem muito a oferecer â€” mas o mundo raramente consegue ver."
  },
  VISION: {
    name: "Moon Young",
    drama: "EstÃ¡ Tudo Bem NÃ£o Estar Bem",
    match: 88,
    emoji: "ğŸ”®",
    line: "Ela via o que ninguÃ©m via â€” mas nÃ£o sabia como existir no mundo real."
  },
  LEADER: {
    name: "Yoon Hyun-woo",
    drama: "Queen of Tears",
    match: 86,
    emoji: "ğŸ‘‘",
    line: "Ele construiu tudo. Mas nÃ£o sabia pedir desculpa."
  },
  SPARK: {
    name: "Oh Gyeong-hwan",
    drama: "Queen of Tears",
    match: 84,
    emoji: "âš¡",
    line: "Energia para salvar o mundo â€” mas nÃ£o sabia salvar o casamento."
  },
  STEADY: {
    name: "Hong Du-sik",
    drama: "A Vida nos Deu Tangerinas",
    match: 90,
    emoji: "ğŸ”ï¸",
    line: "Ele ficou. Mas ficar tambÃ©m pode ser uma forma de fugir."
  },
  PLAYER: {
    name: "Seong Gi-hun",
    drama: "Round 6",
    match: 85,
    emoji: "ğŸ¯",
    line: "Ele sempre recomeÃ§a â€” mas nunca entende por que o ciclo continua."
  }
};

// ìœ í˜•ë³„ ì˜¤í¼ ì½”ë“œ â€” ê° êµ¬ë§¤ìê°€ ìê¸° ìœ í˜• ë¦¬í¬íŠ¸ë§Œ ë°›ë„ë¡
const OFFER_CODES = {
  SPARK:   '5vec4x6v',
  STEADY:  '0p45lzio',
  PLAYER:  '9npw9n9p',
  VISION:  'dyjq3kyq',
  LOGIC:   '8oxgjekr',
  HARMONY: 'wj29icaf',
  LEADER:  'r496g2qe',
  SOUL:    'uk2lrxxr',
};

// Gera o link com parÃ¢metro de tipo + cÃ³digo de afiliado para rastreamento
function getHotmartLink(tipo) {
  const params = new URLSearchParams(window.location.search);
  const srcCode = params.get('src') || params.get('ref') || params.get('aff') || '';
  const srcParam = srcCode ? `&src=${encodeURIComponent(srcCode)}` : '';
  const offCode = OFFER_CODES[tipo] || '3i9qb96g';
  return `${HOTMART_BASE_URL}?sck=${tipo}&off=${offCode}${srcParam}`;
}

// Compatibilidade retroativa (nÃ£o remover)
const HOTMART_LINKS = {
  STEADY:  getHotmartLink('STEADY'),
  SPARK:   getHotmartLink('SPARK'),
  PLAYER:  getHotmartLink('PLAYER'),
  VISION:  getHotmartLink('VISION'),
  LOGIC:   getHotmartLink('LOGIC'),
  HARMONY: getHotmartLink('HARMONY'),
  LEADER:  getHotmartLink('LEADER'),
  SOUL:    getHotmartLink('SOUL'),
};

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// 4 DIMENSÃ•ES (eixos internos)
//   Dim 1: a=introvertido  / b=extrovertido
//   Dim 2: a=concreto      / d=intuitivo
//   Dim 3: a=analÃ­tico     / b=empÃ¡tico
//   Dim 4: a=estruturado   / b=flexÃ­vel
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
const DIM_LABELS = [
  'DIMENSÃƒO 1 Â· ENERGIA',
  'DIMENSÃƒO 2 Â· PERCEPÃ‡ÃƒO',
  'DIMENSÃƒO 3 Â· DECISÃƒO',
  'DIMENSÃƒO 4 Â· ESTRUTURA',
];

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// 28 PERGUNTAS â€” 7 por dimensÃ£o, linguagem cotidiana simples
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
const QUESTIONS = [
  // â”€â”€ DIMENSÃƒO 1: ENERGIA â”€â”€
  { dim:1, text:"No fim de um dia cheio de pessoas e conversas, vocÃª se sente...",
    a:"Cansado â€” preciso de tempo sozinho para recarregar.",
    b:"Energizado â€” adoro estar entre as pessoas." },
  { dim:1, text:"Quando tem um problema para resolver, vocÃª prefere...",
    a:"Pensar sozinho primeiro, depois compartilhar.",
    b:"Pensar em voz alta, conversando com alguÃ©m." },
  { dim:1, text:"Em uma festa ou evento social, vocÃª normalmente...",
    a:"Fico com um grupo menor, conversando com mais profundidade.",
    b:"Circulo, conheÃ§o pessoas novas, me sinto Ã  vontade." },
  { dim:1, text:"Quando comeÃ§a algo novo (trabalho, projeto, hobby)...",
    a:"Prefiro observar e entender antes de participar ativamente.",
    b:"Pulo logo dentro â€” aprendo fazendo e interagindo." },
  { dim:1, text:"Amigos e colegas diriam que vocÃª Ã©...",
    a:"Reservado, difÃ­cil de conhecer de verdade.",
    b:"Aberto, fÃ¡cil de conversar, expressivo." },
  { dim:1, text:"No trabalho, vocÃª produz melhor...",
    a:"Em silÃªncio, com concentraÃ§Ã£o, sem interrupÃ§Ãµes.",
    b:"Em ambientes movimentados, com troca constante." },
  { dim:1, text:"Para tomar uma decisÃ£o difÃ­cil, vocÃª prefere...",
    a:"Refletir internamente, talvez anotar seus pensamentos.",
    b:"Conversar com alguÃ©m â€” a fala ajuda a clarear as ideias." },

  // â”€â”€ DIMENSÃƒO 2: PERCEPÃ‡ÃƒO â”€â”€
  { dim:2, text:"Quando aprende algo novo, vocÃª prefere...",
    a:"Exemplos concretos, passo a passo, aplicaÃ§Ã£o prÃ¡tica.",
    b:"Entender o conceito por trÃ¡s, o padrÃ£o geral." },
  { dim:2, text:"VocÃª confia mais em...",
    a:"O que pode ver, tocar, medir, comprovar.",
    b:"IntuiÃ§Ãµes e possibilidades que ainda nÃ£o existem." },
  { dim:2, text:"Ao planejar uma viagem, vocÃª prefere...",
    a:"Roteiro detalhado, reservas feitas, tudo organizado.",
    b:"DireÃ§Ã£o geral, improviso, descobrir no caminho." },
  { dim:2, text:"No trabalho, vocÃª Ã© mais valorizado por...",
    a:"Ser confiÃ¡vel, preciso, realista e detalhista.",
    b:"Trazer ideias novas, enxergar possibilidades que outros nÃ£o veem." },
  { dim:2, text:"Quando alguÃ©m conta um problema, vocÃª primeiro pensa...",
    a:"Qual Ã© a situaÃ§Ã£o concreta? Quais sÃ£o os fatos?",
    b:"Qual Ã© o padrÃ£o aqui? O que isso significa no fundo?" },
  { dim:2, text:"VocÃª prefere trabalhar com...",
    a:"Coisas que jÃ¡ funcionam â€” melhorar e aperfeiÃ§oar o que existe.",
    b:"Coisas que ainda nÃ£o existem â€” criar do zero." },
  { dim:2, text:"Ao ler um livro ou artigo, vocÃª prefere...",
    a:"InformaÃ§Ãµes prÃ¡ticas, diretas, com exemplos reais.",
    b:"Teorias, conceitos amplos, ideias que abrem a mente." },

  // â”€â”€ DIMENSÃƒO 3: DECISÃƒO â”€â”€
  { dim:3, text:"Ao tomar uma decisÃ£o importante, vocÃª prioriza...",
    a:"LÃ³gica, dados, consequÃªncias objetivas.",
    b:"Como vai afetar as pessoas, os sentimentos envolvidos." },
  { dim:3, text:"Quando alguÃ©m te conta um problema pessoal, vocÃª tende a...",
    a:"Oferecer uma soluÃ§Ã£o ou anÃ¡lise objetiva do problema.",
    b:"Ouvir, validar os sentimentos, oferecer apoio emocional." },
  { dim:3, text:"Em um debate, vocÃª se sente mais Ã  vontade quando...",
    a:"O argumento Ã© baseado em fatos e lÃ³gica verificÃ¡vel.",
    b:"HÃ¡ espaÃ§o para considerar valores humanos e sentimentos." },
  { dim:3, text:"Quando precisa dar um feedback difÃ­cil, vocÃª...",
    a:"Diz diretamente â€” honestidade objetiva Ã© mais respeitosa.",
    b:"Escolhe as palavras com muito cuidado para nÃ£o magoar." },
  { dim:3, text:"O que te incomoda mais em outras pessoas?",
    a:"Pessoas muito emotivas que nÃ£o conseguem ser objetivas.",
    b:"Pessoas frias que ignoram o impacto emocional das suas decisÃµes." },
  { dim:3, text:"No trabalho em equipe, vocÃª naturalmente...",
    a:"Foca no objetivo e na eficiÃªncia do processo.",
    b:"Cuida do clima do grupo e das relaÃ§Ãµes entre as pessoas." },
  { dim:3, text:"Uma boa decisÃ£o para vocÃª Ã© aquela que...",
    a:"Faz sentido logicamente e gera o melhor resultado mensurÃ¡vel.",
    b:"EstÃ¡ alinhada com os valores e o bem-estar de todos envolvidos." },

  // â”€â”€ DIMENSÃƒO 4: ESTRUTURA â”€â”€
  { dim:4, text:"Sua mesa de trabalho ou espaÃ§o pessoal costuma ser...",
    a:"Organizado â€” cada coisa tem seu lugar definido.",
    b:"Um pouco caÃ³tico â€” mas eu sei onde estÃ¡ tudo." },
  { dim:4, text:"Diante de um prazo, vocÃª normalmente...",
    a:"ComeÃ§o cedo, distribuo o trabalho, entrego antes do prazo.",
    b:"Funciono melhor sob pressÃ£o â€” o prazo me motiva de verdade." },
  { dim:4, text:"VocÃª prefere uma semana...",
    a:"Com agenda definida â€” sei o que vem a seguir.",
    b:"Aberta, flexÃ­vel â€” gosto de decidir conforme o momento pede." },
  { dim:4, text:"Quando um plano muda de Ãºltima hora, vocÃª sente...",
    a:"IrritaÃ§Ã£o â€” prefiro que as coisas saiam como planejado.",
    b:"Ã€s vezes animaÃ§Ã£o â€” mudanÃ§as trazem novas possibilidades." },
  { dim:4, text:"VocÃª se descreve mais como...",
    a:"Decidido â€” prefiro ter uma resposta, mesmo que incompleta.",
    b:"Aberto â€” gosto de manter as opÃ§Ãµes em aberto o mÃ¡ximo possÃ­vel." },
  { dim:4, text:"Ao comprar algo grande (carro, viagem, eletrÃ´nico), vocÃª...",
    a:"Pesquiso, decido e nÃ£o fico em dÃºvida depois de decidir.",
    b:"Continuo pesquisando e comparando mesmo depois de quase decidir." },
  { dim:4, text:"No trabalho, vocÃª se sente melhor quando...",
    a:"O projeto tem fases claras, prazos definidos e metas concretas.",
    b:"HÃ¡ liberdade para ajustar o caminho conforme o projeto avanÃ§a." },
];

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// MAPEAMENTO: (dim1, dim2, dim3, dim4) â†’ tipo Shadowgram
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function getType(d1, d2, d3, d4) {
  const I=d1==='a', E=d1==='b';
  const S=d2==='a', N=d2==='b';
  const T=d3==='a', F=d3==='b';
  const J=d4==='a', P=d4==='b';

  if (I&&S&&T&&J) return 'STEADY';
  if (I&&S&&F&&J) return 'HARMONY';
  if (I&&S&&T&&P) return 'LOGIC';
  if (I&&S&&F&&P) return 'SOUL';
  if (I&&N&&T&&J) return 'VISION';
  if (I&&N&&F&&J) return 'VISION';
  if (I&&N&&T&&P) return 'LOGIC';
  if (I&&N&&F&&P) return 'SOUL';
  if (E&&S&&T&&J) return 'LEADER';
  if (E&&S&&F&&J) return 'HARMONY';
  if (E&&S&&T&&P) return 'PLAYER';
  if (E&&S&&F&&P) return 'PLAYER';
  if (E&&N&&T&&J) return 'LEADER';
  if (E&&N&&F&&J) return 'VISION';
  if (E&&N&&T&&P) return 'SPARK';
  if (E&&N&&F&&P) return 'SPARK';
  return 'STEADY';
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// TYPE DATA â€” luz, sombra, dor, preview, bÃ´nus
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
const TYPES = {
  STEADY: {
    color: '#7B9EA8',
    function: 'Si Â· SensaÃ§Ã£o Introvertida',
    light: 'VocÃª Ã© a forÃ§a que sustenta o mundo. Sua memÃ³ria de como as coisas funcionam protege todos ao seu redor. Nos momentos de caos, vocÃª Ã© o porto seguro â€” confiÃ¡vel, consistente, inabalÃ¡vel.',
    shadow: 'Sua sombra Ã© Ne (IntuiÃ§Ã£o Extrovertida): a resistÃªncia Ã s mudanÃ§as, a ansiedade diante do desconhecido, a dificuldade de soltar o que jÃ¡ nÃ£o serve. Quando pressionado, vocÃª se torna rÃ­gido exatamente quando a vida pede flexibilidade.',
    pain: 'Quantas vezes vocÃª ficou parado enquanto o mundo mudava ao redor? Sua sombra Ne nÃ£o integrada custa oportunidades reais â€” carreiras que nÃ£o evoluÃ­ram, relaÃ§Ãµes que sufocaram, inovaÃ§Ãµes que vocÃª deixou para outros. O custo de ignorar sua sombra Ã© a estagnaÃ§Ã£o disfaÃ§ada de "estabilidade".',
    preview: 'PadrÃ£o 1 Â· A armadilha da rotina sagrada\nQuando a rotina se torna uma prisÃ£o invisÃ­vel...\n\nPadrÃ£o 2 Â· O medo do novo travestido de prudÃªncia\nComo a sombra Ne distorce sua percepÃ§Ã£o de risco...\n\nPadrÃ£o 3 Â· A resistÃªncia passiva\nPor que vocÃª sabota mudanÃ§as sem perceber...\n\nPadrÃ£o 4 Â· O apego ao passado\nComo liberar o que te prendia para criar espaÃ§o ao que vem...',
    ctaTitle: 'Seu relatÃ³rio STEADY estÃ¡ pronto.',
    ctaSub: 'O relatÃ³rio completo revela os 4 padrÃµes inconscientes que bloqueiam seu crescimento â€” e o caminho prÃ¡tico para integrÃ¡-los.',
    bonus: 'âœ¦ Workbook de integraÃ§Ã£o da sombra Ne\nâœ¦ Rotina de 21 dias para o tipo STEADY\nâœ¦ Guia de transiÃ§Ã£o para novos ciclos',
  },
  SPARK: {
    color: '#E8A84A',
    function: 'Ne Â· IntuiÃ§Ã£o Extrovertida',
    light: 'VocÃª vÃª possibilidades onde os outros veem paredes. Sua energia Ã© contagiante, suas ideias sÃ£o incontÃ¡veis, e vocÃª tem o dom de inspirar o novo. O mundo precisa de pessoas que enxergam alÃ©m do horizonte visÃ­vel.',
    shadow: 'Sua sombra Ã© Si (SensaÃ§Ã£o Introvertida): a dificuldade de terminar o que comeÃ§a, a fuga da rotina e do concreto, o desconforto com a manutenÃ§Ã£o. Quando pressionado, vocÃª se dispersa em infinitas direÃ§Ãµes sem chegar a nenhuma.',
    pain: 'Quantas ideias brilhantes vocÃª jÃ¡ abandonou a 90% do caminho? Sua sombra Si nÃ£o integrada Ã© a razÃ£o pela qual vocÃª repete o mesmo ciclo: comeÃ§a com tudo, perde o interesse, abandona â€” e sente que algo estÃ¡ errado com vocÃª. NÃ£o estÃ¡. Mas enquanto nÃ£o integrar sua sombra, continuarÃ¡ sabotando seus prÃ³prios projetos.',
    preview: 'PadrÃ£o 1 Â· O abandono antes da linha de chegada\nPor que vocÃª abandona projetos quase prontos...\n\nPadrÃ£o 2 Â· A dispersÃ£o mascarada de criatividade\nComo distinguir inspiraÃ§Ã£o genuÃ­na de fuga da conclusÃ£o...\n\nPadrÃ£o 3 Â· O vÃ­cio em comeÃ§os\nO prazer neuroquÃ­mico do inÃ­cio e como reconhecÃª-lo...\n\nPadrÃ£o 4 Â· A fuga da manutenÃ§Ã£o\nComo construir sistemas que sua mente SPARK consegue sustentar...',
    ctaTitle: 'Seu relatÃ³rio SPARK estÃ¡ pronto.',
    ctaSub: 'O relatÃ³rio completo revela por que vocÃª abandona projetos â€” e o mÃ©todo especÃ­fico para o tipo SPARK completar o que comeÃ§a.',
    bonus: 'âœ¦ Workbook de integraÃ§Ã£o da sombra Si\nâœ¦ Sistema de conclusÃ£o para mentes SPARK\nâœ¦ Os 3 gatilhos do abandono e como neutralizÃ¡-los',
  },
  PLAYER: {
    color: '#E07060',
    function: 'Se Â· SensaÃ§Ã£o Extrovertida',
    light: 'VocÃª vive o presente com toda a intensidade. Sua capacidade de aÃ§Ã£o imediata, de sentir o ambiente e reagir com precisÃ£o Ã© um dom raro. Nos momentos que pedem decisÃ£o, vocÃª jÃ¡ estÃ¡ em movimento.',
    shadow: 'Sua sombra Ã© Ni (IntuiÃ§Ã£o Introvertida): a dificuldade de enxergar o padrÃ£o maior, o desconforto com o abstrato e o futuro distante. Quando pressionado, vocÃª age sem considerar as consequÃªncias de longo prazo.',
    pain: 'Quanto dinheiro, energia ou tempo vocÃª jÃ¡ perdeu agindo rÃ¡pido demais â€” sem ver o padrÃ£o? Sua sombra Ni nÃ£o integrada Ã© invisÃ­vel para vocÃª, mas visÃ­vel para todos ao redor. Ela aparece como impulsividade, como relaÃ§Ãµes que se quebram sem vocÃª entender por quÃª, como conquistas que nÃ£o duram.',
    preview: 'PadrÃ£o 1 Â· A impulsividade disfarÃ§ada de confianÃ§a\nComo a sombra Ni distorce sua avaliaÃ§Ã£o de risco...\n\nPadrÃ£o 2 Â· O presente que devora o futuro\nPor que suas conquistas tÃªm prazo de validade curto...\n\nPadrÃ£o 3 Â· A cegueira para padrÃµes\nComo reconhecer os ciclos que vocÃª repete sem perceber...\n\nPadrÃ£o 4 Â· A integraÃ§Ã£o Ni\nComo desenvolver visÃ£o de longo prazo sem perder sua essÃªncia...',
    ctaTitle: 'Seu relatÃ³rio PLAYER estÃ¡ pronto.',
    ctaSub: 'O relatÃ³rio completo revela os 4 padrÃµes que sabotam sua consistÃªncia â€” e o caminho para transformar aÃ§Ã£o em legado.',
    bonus: 'âœ¦ Workbook de integraÃ§Ã£o da sombra Ni\nâœ¦ Protocolo de decisÃ£o para o tipo PLAYER\nâœ¦ Guia de planejamento de 90 dias adaptado Ã  sua mente',
  },
  VISION: {
    color: '#8B7BB8',
    function: 'Ni Â· IntuiÃ§Ã£o Introvertida',
    light: 'VocÃª enxerga o que os outros ainda nÃ£o podem ver. Seus insights sobre padrÃµes profundos e direÃ§Ãµes futuras sÃ£o profÃ©ticos. VocÃª carrega um mapa interno que poucos possuem â€” a bÃºssola do invisÃ­vel.',
    shadow: 'Sua sombra Ã© Se (SensaÃ§Ã£o Extrovertida): a desconexÃ£o com o aqui e agora, a dificuldade de habitar o corpo e o presente. Quando pressionado, vocÃª se perde em visÃµes e anÃ¡lises sem nunca agir no mundo real.',
    pain: 'Quantas visÃµes brilhantes ficaram apenas na sua cabeÃ§a? Sua sombra Se nÃ£o integrada cria uma distÃ¢ncia dolorosa entre o que vocÃª percebe e o que vocÃª manifesta. Por fora, parece que vocÃª estÃ¡ bem. Por dentro, vocÃª sabe que estÃ¡ aquÃ©m do que poderia ser.',
    preview: 'PadrÃ£o 1 Â· A paralisia da perfeiÃ§Ã£o visionÃ¡ria\nPor que seus planos mais ambiciosos nunca saem do papel...\n\nPadrÃ£o 2 Â· O descolamento do presente\nComo a sombra Se te afasta do corpo, do dinheiro, das relaÃ§Ãµes...\n\nPadrÃ£o 3 Â· A solidÃ£o do visionÃ¡rio\nPor que Ã© tÃ£o difÃ­cil ser compreendido â€” e o que fazer...\n\nPadrÃ£o 4 Â· Do insight Ã  aÃ§Ã£o\nO mÃ©todo para o tipo VISION manifestar no mundo real...',
    ctaTitle: 'Seu relatÃ³rio VISION estÃ¡ pronto.',
    ctaSub: 'O relatÃ³rio completo revela como transformar sua visÃ£o interna em resultados concretos â€” sem perder sua profundidade.',
    bonus: 'âœ¦ Workbook de integraÃ§Ã£o da sombra Se\nâœ¦ Protocolo de manifestaÃ§Ã£o para o tipo VISION\nâœ¦ Guia de grounding para mentes visionÃ¡rias',
  },
  LOGIC: {
    color: '#5B9EA0',
    function: 'Ti Â· Pensamento Introvertido',
    light: 'Sua mente Ã© um instrumento de precisÃ£o. VocÃª encontra a estrutura lÃ³gica onde outros veem caos. Sua capacidade de ir fundo em um problema e encontrar a verdade essencial Ã© um presente raro para o mundo.',
    shadow: 'Sua sombra Ã© Fe (Sentimento Extrovertido): a dificuldade nas relaÃ§Ãµes emocionais, o desconforto com a dinÃ¢mica de grupo e as expectativas sociais. Quando pressionado, vocÃª se isola exatamente quando mais precisa das pessoas.',
    pain: 'Quantas relaÃ§Ãµes â€” de trabalho, de amor, de amizade â€” vocÃª perdeu por nÃ£o conseguir se conectar emocionalmente? Sua precisÃ£o analÃ­tica tem um custo invisÃ­vel: a frieza que os outros sentem como rejeiÃ§Ã£o, mesmo quando vocÃª estÃ¡ apenas pensando. Esse padrÃ£o se repete atÃ© vocÃª entender sua sombra Fe.',
    preview: 'PadrÃ£o 1 Â· A armadura intelectual\nComo a lÃ³gica vira defesa contra a vulnerabilidade...\n\nPadrÃ£o 2 Â· O custo relacional da precisÃ£o\nPor que as pessoas se afastam mesmo admirando vocÃª...\n\nPadrÃ£o 3 Â· O isolamento como padrÃ£o\nComo o tipo LOGIC sabota conexÃ£o sem perceber...\n\nPadrÃ£o 4 Â· IntegraÃ§Ã£o Fe\nComo desenvolver inteligÃªncia emocional sem perder precisÃ£o...',
    ctaTitle: 'Seu relatÃ³rio LOGIC estÃ¡ pronto.',
    ctaSub: 'O relatÃ³rio completo revela como integrar emoÃ§Ã£o e razÃ£o â€” e construir relaÃ§Ãµes sem abrir mÃ£o da sua precisÃ£o.',
    bonus: 'âœ¦ Workbook de integraÃ§Ã£o da sombra Fe\nâœ¦ Guia de comunicaÃ§Ã£o emocional para o tipo LOGIC\nâœ¦ Protocolo de conexÃ£o para mentes analÃ­ticas',
  },
  HARMONY: {
    color: '#D4886A',
    function: 'Fe Â· Sentimento Extrovertido',
    light: 'VocÃª tem o dom de unir as pessoas. Sua sensibilidade ao estado emocional do grupo, sua capacidade de criar harmonia e cuidar do coletivo Ã© uma forÃ§a rara e profundamente necessÃ¡ria no mundo.',
    shadow: 'Sua sombra Ã© Ti (Pensamento Introvertido): a dificuldade de dizer nÃ£o, de priorizar sua prÃ³pria lÃ³gica interna, de separar suas necessidades das dos outros. Quando pressionado, vocÃª se perde completamente nos outros.',
    pain: 'Quantas vezes vocÃª disse sim quando queria dizer nÃ£o? Sua sombra Ti nÃ£o integrada te mantÃ©m em um ciclo de doaÃ§Ã£o excessiva â€” atÃ© o esgotamento. O preÃ§o de cuidar de todos Ã© frequentemente se perder. E quem cuida de vocÃª?',
    preview: 'PadrÃ£o 1 Â· A incapacidade de dizer nÃ£o\nPor que vocÃª prioriza a paz dos outros Ã  custa de si mesmo...\n\nPadrÃ£o 2 Â· A culpa como mecanismo de controle\nComo sua sombra Ti se manifesta como julgamento interno...\n\nPadrÃ£o 3 Â· O esgotamento do cuidador\nPor que vocÃª chega ao limite repetidamente...\n\nPadrÃ£o 4 Â· IntegraÃ§Ã£o Ti\nComo desenvolver limites saudÃ¡veis sem perder sua compaixÃ£o...',
    ctaTitle: 'Seu relatÃ³rio HARMONY estÃ¡ pronto.',
    ctaSub: 'O relatÃ³rio completo revela como cuidar dos outros sem se perder â€” e construir limites sem culpa.',
    bonus: 'âœ¦ Workbook de integraÃ§Ã£o da sombra Ti\nâœ¦ Guia de limites saudÃ¡veis para o tipo HARMONY\nâœ¦ Protocolo de autocuidado para cuidadores',
  },
  LEADER: {
    color: '#6B8E6B',
    function: 'Te Â· Pensamento Extrovertido',
    light: 'VocÃª constrÃ³i sistemas que funcionam. Sua capacidade de definir objetivos, organizar recursos e levar um grupo ao resultado Ã© uma forma de lideranÃ§a que o mundo precisa. Onde hÃ¡ caos, vocÃª cria ordem.',
    shadow: 'Sua sombra Ã© Fi (Sentimento Introvertido): a dificuldade de acessar e honrar seus prÃ³prios valores e emoÃ§Ãµes internas. Quando pressionado, vocÃª ignora sua vida interior em nome da eficiÃªncia â€” e paga um preÃ§o alto por isso.',
    pain: 'VocÃª constrÃ³i resultados para todos. Mas quando foi a Ãºltima vez que perguntou o que vocÃª realmente quer? Sua sombra Fi nÃ£o integrada acumula uma conta emocional que um dia cobra de uma vez â€” em forma de crise, de vazio, de relaÃ§Ãµes que nÃ£o sustentam o peso da sua vida.',
    preview: 'PadrÃ£o 1 Â· A eficiÃªncia que devora a autenticidade\nComo a busca por resultado esconde o que vocÃª sente...\n\nPadrÃ£o 2 Â· A lideranÃ§a sem vulnerabilidade\nPor que seu poder intimida e isola ao mesmo tempo...\n\nPadrÃ£o 3 Â· O vazio do executor\nO que acontece quando os objetivos sÃ£o alcanÃ§ados e ainda falta algo...\n\nPadrÃ£o 4 Â· IntegraÃ§Ã£o Fi\nComo liderar com propÃ³sito real â€” conectado a valores genuÃ­nos...',
    ctaTitle: 'Seu relatÃ³rio LEADER estÃ¡ pronto.',
    ctaSub: 'O relatÃ³rio completo revela o que sua eficiÃªncia estÃ¡ escondendo â€” e como liderar com mais autenticidade e sustentabilidade.',
    bonus: 'âœ¦ Workbook de integraÃ§Ã£o da sombra Fi\nâœ¦ Guia de lideranÃ§a com valores para o tipo LEADER\nâœ¦ Protocolo de conexÃ£o com o eu interior para executores',
  },
  SOUL: {
    color: '#B87BA8',
    function: 'Fi Â· Sentimento Introvertido',
    light: 'VocÃª carrega uma bÃºssola de valores que nÃ£o se dobra. Sua autenticidade, profundidade e integridade sÃ£o uma forma de presenÃ§a no mundo que toca as pessoas de maneira que poucos conseguem.',
    shadow: 'Sua sombra Ã© Te (Pensamento Extrovertido): o choque com as exigÃªncias do mundo prÃ¡tico â€” eficiÃªncia, produtividade, resultados mensurÃ¡veis. Quando pressionado, vocÃª se sente incompreendido e invisÃ­vel em um mundo que mede tudo.',
    pain: 'VocÃª tem muito a oferecer â€” mas o mundo parece nÃ£o reconhecer. Sua sombra Te nÃ£o integrada Ã© a razÃ£o pela qual sua profundidade raramente se traduz em resultado concreto. Essa distÃ¢ncia entre quem vocÃª Ã© e o que o mundo vÃª Ã© o custo real de ignorar sua sombra.',
    preview: 'PadrÃ£o 1 Â· A invisibilidade do profundo\nPor que sua riqueza interior raramente Ã© vista pelos outros...\n\nPadrÃ£o 2 Â· A resistÃªncia ao mundo prÃ¡tico\nComo a sombra Te se manifesta como procrastinaÃ§Ã£o e evitaÃ§Ã£o...\n\nPadrÃ£o 3 Â· O ressentimento silencioso\nO acÃºmulo emocional quando seus valores nÃ£o sÃ£o respeitados...\n\nPadrÃ£o 4 Â· IntegraÃ§Ã£o Te\nComo traduzir profundidade em impacto concreto no mundo...',
    ctaTitle: 'Seu relatÃ³rio SOUL estÃ¡ pronto.',
    ctaSub: 'O relatÃ³rio completo revela como transformar sua profundidade em presenÃ§a real â€” e ser visto pelo que vocÃª realmente Ã©.',
    bonus: 'âœ¦ Workbook de integraÃ§Ã£o da sombra Te\nâœ¦ Guia de produtividade alinhada a valores para o tipo SOUL\nâœ¦ Protocolo de visibilidade para mentes profundas',
  },
};

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// QUIZ ENGINE
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
let dimScores = [0, 0, 0, 0];
let answers = new Array(QUESTIONS.length).fill(null); // ê° ë¬¸í•­ í˜„ì¬ ì„ íƒê°’ ì €ì¥
let current = 0;
const totalQ = QUESTIONS.length;

function buildQuiz() {
  const sec = document.getElementById('quiz-section');
  sec.innerHTML = '';
  QUESTIONS.forEach((q, qi) => {
    const div = document.createElement('div');
    div.className = 'question-block' + (qi === 0 ? ' active' : '');
    div.id = 'q-' + qi;
    div.innerHTML = `
      <p class="q-num">PERGUNTA ${qi + 1} DE ${totalQ}</p>
      <p class="q-text">${q.text}</p>
      <div class="ab-options">
        <button class="ab-btn" onclick="selectOption(${qi}, 'a', this)">
          <span class="ab-label">A</span>
          <span class="ab-text">${q.a}</span>
        </button>
        <button class="ab-btn" onclick="selectOption(${qi}, 'b', this)">
          <span class="ab-label">B</span>
          <span class="ab-text">${q.b}</span>
        </button>
      </div>
    `;
    sec.appendChild(div);
  });
}

function selectOption(qIdx, choice, btn) {
  // ì²« ë²ˆì§¸ ë‹µ ì„ íƒ ì‹œ hero + meta + cred ìˆ¨ê¸°ê¸°
  if (qIdx === 0 && answers[qIdx] === null) {
    const hero = document.querySelector('.hero');
    const meta = document.querySelector('.hero-meta');
    const cred = document.querySelector('.cred-bar');
    if (hero) hero.style.display = 'none';
    if (meta) meta.style.display = 'none';
    if (cred) cred.style.display = 'none';
  }
  document.querySelectorAll(`#q-${qIdx} .ab-btn`).forEach(b => b.classList.remove('selected'));
  btn.classList.add('selected');
  const dimIdx = QUESTIONS[qIdx].dim - 1;
  // ì´ì „ ì„ íƒì´ ìˆìœ¼ë©´ ë¨¼ì € ë˜ëŒë¦¬ê¸° (ì¤‘ë³µ ì¹´ìš´íŠ¸ ë°©ì§€)
  if (answers[qIdx] === 'a') dimScores[dimIdx]--;
  // ìƒˆ ì„ íƒ ì €ì¥
  answers[qIdx] = choice;
  if (choice === 'a') dimScores[dimIdx]++;
  setTimeout(() => {
    if (qIdx < totalQ - 1) goToQuestion(qIdx + 1);
    else showResult();
  }, 300);
}

function goToQuestion(idx) {
  document.querySelectorAll('.question-block').forEach(b => b.classList.remove('active'));
  document.getElementById('q-' + idx).classList.add('active');
  current = idx;
  updateProgress(idx);
  // ì²« ë¬¸í•­ì´ë©´ ë’¤ë¡œê°€ê¸° ìˆ¨ê¹€, ì•„ë‹ˆë©´ í‘œì‹œ
  const prevBtn = document.getElementById('btn-prev');
  if (idx === 0) prevBtn.classList.add('hidden');
  else prevBtn.classList.remove('hidden');
  window.scrollTo({ top: 200, behavior: 'smooth' });
}

function goPrev() {
  if (current > 0) goToQuestion(current - 1);
}

function updateProgress(idx) {
  const pct = Math.round((idx / totalQ) * 100);
  document.getElementById('progress-fill').style.width = pct + '%';
  document.getElementById('progress-label').textContent = `Pergunta ${idx + 1} de ${totalQ}`;
  document.getElementById('progress-pct').textContent = pct + '%';
  document.getElementById('dim-label').textContent = DIM_LABELS[QUESTIONS[idx].dim - 1];
}

function showResult(savedWinner) {
  let winner, d, data;

  if (savedWinner) {
    // localStorageì—ì„œ ë³µì›
    winner = savedWinner;
    data = TYPES[winner];
    // ìŠ¤ì½”ì–´ë°”ìš© ì„ì‹œ d (ì €ì¥ëœ ìœ í˜• ê¸°ë°˜ìœ¼ë¡œ ì¶”ì •)
    d = ['a','a','a','a']; // ë°” í‘œì‹œìš© ê¸°ë³¸ê°’
  } else {
    d = dimScores.map(s => s >= 4 ? 'a' : 'b');
    winner = getType(d[0], d[1], d[2], d[3]);
    data = TYPES[winner];
    // â”€â”€ localStorageì— ê²°ê³¼ ì €ì¥
    try {
      localStorage.setItem('sg_type', winner);
      localStorage.setItem('sg_code', d.join(''));
      localStorage.setItem('sg_date', new Date().toLocaleDateString('pt-BR'));
      localStorage.setItem('sg_scores', JSON.stringify(dimScores));
    } catch(e) {}

    // â”€â”€ Google Sheets DB ì „ì†¡
    try {
      const utmParams = new URLSearchParams(window.location.search);
      const payload = {
        type:     winner,
        code:     d.join(''),
        lang:     navigator.language || 'unknown',
        device:   /Mobi|Android/i.test(navigator.userAgent) ? 'mobile' : 'desktop',
        ref:      utmParams.get('src') || utmParams.get('utm_source') || 'direct',
        ts:       new Date().toISOString()
      };
      fetch('https://script.google.com/macros/s/AKfycby9j1hvkJqYvA4idWAlhNg5_SW5AoZBnOKR0eiVF2etehz9Rv3h2l2JWMpIhFt1YKQPkA/exec', {
        method: 'POST',
        mode: 'no-cors',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify(payload)
      }).catch(() => {});
    } catch(e) {}
  }

  document.getElementById('quiz-section').style.display = 'none';
  document.querySelector('.progress-wrap').style.display = 'none';
  document.querySelector('.back-btn-wrap').style.display = 'none';

  const rs = document.getElementById('result-section');
  rs.style.display = 'block';

  document.getElementById('res-type').textContent = winner;
  document.getElementById('res-type').style.color = data.color;
  document.getElementById('res-function').textContent = data.function;
  document.getElementById('res-code').textContent = `cÃ³digo: ${d[0]}${d[1]}${d[2]}${d[3]}`;
  document.getElementById('res-light-header').style.color = data.color;
  document.getElementById('res-light').textContent = data.light;
  document.getElementById('res-shadow').textContent = data.shadow;
  document.getElementById('res-pain').textContent = data.pain;
  document.getElementById('res-preview').textContent = data.preview;
  document.getElementById('res-cta-label').textContent = `SHADOWGRAM SOLO Â· NÃVEL 1 Â· ${winner}`;
  document.getElementById('res-cta-title').textContent = data.ctaTitle;
  document.getElementById('res-cta-sub').textContent = data.ctaSub;
  document.getElementById('res-buy-btn').href = HOTMART_LINKS[winner];

  // â”€â”€ K-Drama Character Match â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  const km = KDRAMA_MATCHES[winner];
  if (km) {
    document.getElementById('kdrama-match-name').textContent = km.emoji + '  ' + km.name;
    document.getElementById('kdrama-match-drama').textContent = km.drama;
    document.getElementById('kdrama-match-pct').textContent  = km.match + '% de compatibilidade';
    document.getElementById('kdrama-match-line').textContent = '"' + km.line + '"';
    // ë°” ì• ë‹ˆë©”ì´ì…˜ â€” ì•½ê°„ ë”œë ˆì´ í›„ ë Œë”
    setTimeout(function() {
      document.getElementById('kdrama-match-bar').style.width = km.match + '%';
    }, 400);

    // WhatsApp ê³µìœ  ë©”ì‹œì§€ (ìºë¦­í„° íŠ¹í™”)
    window.shareKdramaMatch = function() {
      const SHARE_URL = 'https://shadowgram.org/shadowgram_pt.html';
      const msg = km.emoji + ' Meu tipo Shadowgram Ã© ' + winner
        + ' â€” igual a ' + km.name + ' de "' + km.drama + '" ('
        + km.match + '% de compatibilidade)!\n\n'
        + '"' + km.line + '"\n\n'
        + 'Descubra o seu: ' + SHARE_URL;
      window.open('https://wa.me/?text=' + encodeURIComponent(msg), '_blank');
    };
  }

  // SNS ê³µìœ  ë²„íŠ¼ â€” share.html?type=ìœ í˜• (ë°”ì´ëŸ´ ì „ìš© í˜ì´ì§€)
  const SHARE_URL = `https://shadowgram.org/shadowgram_pt.html?type=${winner}&fresh=0`;
  const QUIZ_URL  = 'https://shadowgram.org/shadowgram_pt.html';
  const _km = KDRAMA_MATCHES[winner];
  const shareMsg = _km
    ? `${_km.emoji} Fiz o Shadowgram e sou tipo ${winner} â€” igual a ${_km.name}! (${_km.match}% de compatibilidade)\n\n"${_km.line}"\n\nE vocÃª, qual Ã© o seu?\nğŸ‘‡\n${QUIZ_URL}`
    : `Fiz o Shadowgram e sou tipo ${winner}! ğŸ”¥\nE vocÃª, qual Ã© o seu?\nğŸ‘‡\n${SHARE_URL}`;
  const shareMsgShort = _km
    ? `${_km.emoji} Sou tipo ${winner} no Shadowgram â€” igual a ${_km.name}! E vocÃª? ğŸ‘‡ ${QUIZ_URL}`
    : `Sou tipo ${winner} no Shadowgram ğŸ”¥ E vocÃª? ğŸ‘‡ ${SHARE_URL}`;

  // WhatsApp
  document.getElementById('btn-whatsapp-share').href =
    'https://wa.me/?text=' + encodeURIComponent(shareMsg);

  // Instagram â€” share ë§í¬ ë³µì‚¬
  document.getElementById('btn-instagram-share').href = '#';
  document.getElementById('btn-instagram-share').onclick = function(e) {
    e.preventDefault();
    navigator.clipboard && navigator.clipboard.writeText(SHARE_URL);
    this.textContent = 'âœ… Link copiado! Cole no Instagram';
    setTimeout(() => this.textContent = 'ğŸ“¸ Instagram', 2500);
  };

  // Facebook
  document.getElementById('btn-facebook-share').href =
    'https://www.facebook.com/sharer/sharer.php?u=' + encodeURIComponent(SHARE_URL) +
    '&quote=' + encodeURIComponent(shareMsgShort);

  // X (Twitter)
  document.getElementById('btn-twitter-share').href =
    'https://twitter.com/intent/tweet?text=' + encodeURIComponent(shareMsgShort);

  // ë§í¬ ë³µì‚¬ í•¨ìˆ˜ (ì „ì—­) â€” share.html ë§í¬ ë³µì‚¬
  window.copyQuizLink = function() {
    navigator.clipboard && navigator.clipboard.writeText(SHARE_URL);
    const btn = document.getElementById('btn-copy-link');
    btn.textContent = 'âœ… Link copiado!';
    setTimeout(() => btn.textContent = 'ğŸ”— Copiar link do teste', 2000);
  };

  // ì €ì¥ëœ ê²°ê³¼ì—ì„œ ë³µì› ì‹œ ë°°ë„ˆ í‘œì‹œ
  if (savedWinner) {
    const savedDate = localStorage.getItem('sg_date') || '';
    const banner = document.createElement('div');
    banner.style.cssText = 'background:rgba(197,165,114,0.1);border:1px solid rgba(197,165,114,0.3);border-radius:10px;padding:12px 16px;margin-bottom:16px;font-size:12px;color:var(--silver);text-align:center;';
    banner.innerHTML = `âœ… Seu resultado salvo Â· ${savedDate} Â· <button onclick="restartQuiz()" style="background:none;border:none;color:var(--gold);cursor:pointer;font-size:12px;text-decoration:underline;">Refazer diagnÃ³stico</button>`;
    const rs = document.getElementById('result-section');
    rs.insertBefore(banner, rs.firstChild);
  }

  // savedWinnerì¼ ë•Œ ì €ì¥ëœ ì ìˆ˜ ë³µì›
  let scoresForBar = dimScores;
  if (savedWinner) {
    try {
      const saved = JSON.parse(localStorage.getItem('sg_scores') || 'null');
      if (saved) scoresForBar = saved;
    } catch(e) {}
  }

  // Score bars â€”ì–‘ë°©í–¥ ì¤‘ì‹¬ ê¸°ì¤€ ê·¸ë˜í”„
  const dimNames = [
    {a:'Introvertido', b:'Extrovertido'},
    {a:'Concreto',     b:'Intuitivo'},
    {a:'AnalÃ­tico',    b:'EmpÃ¡tico'},
    {a:'Estruturado',  b:'FlexÃ­vel'},
  ];
  const barRows = document.getElementById('score-bar-rows');
  barRows.innerHTML = '';
  scoresForBar.forEach((sc, i) => {
    // sc: 'a' ì„ íƒ íšŸìˆ˜ (0~7), 4 ì´ìƒì´ë©´ a ì„±í–¥
    const isA = sc >= 4;
    // ì¤‘ì‹¬(50%)ì—ì„œ ì–¼ë§ˆë‚˜ ë²—ì–´ë‚¬ëŠ”ì§€ (0~50%)
    const strength = isA
      ? Math.round(((sc - 3.5) / 3.5) * 50)   // a: 4â†’7% ~ 4â†’50%
      : Math.round(((3.5 - sc) / 3.5) * 50);   // b: 3â†’7% ~ 0â†’50%
    const fillPct = Math.max(7, strength);       // ìµœì†Œ 7% (ëˆˆì— ë³´ì´ë„ë¡)

    barRows.innerHTML += `
      <div class="bar-row">
        <span class="bar-dim">${i + 1}</span>
        <div style="flex:1">
          <div class="bar-track">
            ${isA
              ? `<div class="bar-fill-a" style="width:${fillPct}%;background:${data.color};opacity:0.9"></div>`
              : `<div class="bar-fill-b" style="width:${fillPct}%;background:${data.color};opacity:0.9"></div>`
            }
          </div>
          <div class="bar-ends">
            <span class="bar-label-a ${isA ? 'bar-label-active' : 'bar-label-inactive'}">${dimNames[i].a}</span>
            <span class="bar-label-b ${!isA ? 'bar-label-active' : 'bar-label-inactive'}">${dimNames[i].b}</span>
          </div>
        </div>
      </div>`;
  });

  window.scrollTo({ top: 0, behavior: 'smooth' });
}

function restartQuiz() {
  dimScores = [0, 0, 0, 0];
  answers = new Array(QUESTIONS.length).fill(null);
  current = 0;
  document.getElementById('result-section').style.display = 'none';
  document.getElementById('quiz-section').style.display = 'block';
  document.querySelector('.progress-wrap').style.display = 'block';
  document.querySelector('.back-btn-wrap').style.display = 'block';
  document.getElementById('btn-prev').classList.add('hidden');
  // ì¬ì‹œì‘ ì‹œ hero + meta + cred ë‹¤ì‹œ í‘œì‹œ
  const hero = document.querySelector('.hero');
  const meta = document.querySelector('.hero-meta');
  const cred = document.querySelector('.cred-bar');
  if (hero) hero.style.display = '';
  if (meta) meta.style.display = '';
  if (cred) cred.style.display = '';
  buildQuiz();
  updateProgress(0);
  window.scrollTo({ top: 0, behavior: 'smooth' });
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// ì¬ë°©ë¬¸ ì²˜ë¦¬ â€” localStorage + URL íŒŒë¼ë¯¸í„°
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function checkSavedResult() {
  const params = new URLSearchParams(window.location.search);

  // ?fresh=1 ì´ë©´ localStorage ì§€ìš°ê³  ì²« í™”ë©´ ì‹œì‘ (ê³µìœ  ë§í¬ ì§„ì… ì‹œ)
  if (params.get('fresh') === '1') {
    try {
      localStorage.removeItem('sg_type');
      localStorage.removeItem('sg_code');
      localStorage.removeItem('sg_date');
      localStorage.removeItem('sg_scores');
    } catch(e) {}
    return;
  }

  // 1ìˆœìœ„: URL íŒŒë¼ë¯¸í„° ?type=SPARK (ë‚´ ê²°ê³¼ ì €ì¥ ë§í¬)
  const urlType = params.get('type');
  if (urlType && TYPES[urlType.toUpperCase()]) {
    showResult(urlType.toUpperCase());
    return;
  }
  // 2ìˆœìœ„: localStorage ì €ì¥ê°’
  try {
    const saved = localStorage.getItem('sg_type');
    if (saved && TYPES[saved]) {
      showResult(saved);
      return;
    }
  } catch(e) {}
  // ì €ì¥ê°’ ì—†ìœ¼ë©´ ì¼ë°˜ í€´ì¦ˆ ì‹œì‘
}

// ë‚´ ê²°ê³¼ ë§í¬ ì €ì¥ ë²„íŠ¼
function saveMyLink() {
  try {
    const type = localStorage.getItem('sg_type');
    if (!type) return;
    const base = window.location.href.split('?')[0];
    const link = `${base}?type=${type}`;
    document.getElementById('saved-link-input').value = link;
    document.getElementById('saved-link-box').style.display = 'block';
    document.getElementById('btn-save-link').style.display = 'none';
  } catch(e) {}
}

function copyLink() {
  const input = document.getElementById('saved-link-input');
  input.select();
  try {
    navigator.clipboard.writeText(input.value).then(() => {
      const btn = input.nextElementSibling;
      btn.textContent = 'âœ… Copiado!';
      setTimeout(() => btn.textContent = 'Copiar', 2000);
    });
  } catch(e) {
    document.execCommand('copy');
  }
}

// INIT
buildQuiz();
updateProgress(0);
checkSavedResult();
</script>
</body>
</html>
